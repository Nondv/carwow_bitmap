#!/usr/bin/env ruby

require './lib/bitmap_editor'

filename = ARGV.first
abort 'Please provide correct file' if filename.nil? || !File.exist?(filename)

editor = BitmapEditor.new
File.new(filename).each_line do |line|
  begin
    line = line.chomp
    editor.execute_command(line)
  rescue BitmapEditor::UnknownCommandError
    puts 'Unrecognized command :('
  end
end
